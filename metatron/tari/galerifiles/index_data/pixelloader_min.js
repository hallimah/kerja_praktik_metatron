(function(){var h=this,aa=function(a,b){var c=a.split("."),d=h;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},ba=function(a){a=a.split(".");for(var b=h,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},l=function(){},m=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";
if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},n=function(a){return"string"==typeof a},p=function(a,b){function c(){}c.prototype=b.prototype;
a.J=b.prototype;a.prototype=new c;a.ja=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};var ca=["true","1",""];var da="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ea=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<da.length;f++)c=da[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var fa=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ga=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},q=function(a,b){return a<b?-1:a>b?1:0};(function(){var a=ba("CustomEvent");a||(a=function(a,c){c=c||{};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,!!c.bubbles,!!c.cancelable,c.detail||null);return d},a.prototype=window.Event.prototype,h.CustomEvent=a)})();var r=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};p(r,Error);var ha=function(a,b){b.unshift(a);r.call(this,fa.apply(null,b));b.shift()};p(ha,r);var t=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new ha(""+d,e||[]);}};var u=function(a){u[" "](a);return a};u[" "]=l;var ia=Array.prototype.indexOf?function(a,b,c){t(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var v;a:{var ja=h.navigator;if(ja){var ka=ja.userAgent;if(ka){v=ka;break a}}v=""};var la=-1!=v.indexOf("Opera")||-1!=v.indexOf("OPR"),w=-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE"),ma=-1!=v.indexOf("Edge"),x=-1!=v.indexOf("Gecko")&&!(-1!=v.toLowerCase().indexOf("webkit")&&-1==v.indexOf("Edge"))&&!(-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE"))&&-1==v.indexOf("Edge"),y=-1!=v.toLowerCase().indexOf("webkit")&&-1==v.indexOf("Edge"),na=function(){var a=h.document;return a?a.documentMode:void 0},z;
a:{var A="",B=function(){var a=v;if(x)return/rv\:([^\);]+)(\)|;)/.exec(a);if(ma)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(y)return/WebKit\/(\S+)/.exec(a);if(la)return/(?:Version)[ \/]?(\S+)/.exec(a)}();B&&(A=B?B[1]:"");if(w){var C=na();if(null!=C&&C>parseFloat(A)){z=String(C);break a}}z=A}
var oa=z,pa={},D=function(a){var b;if(!(b=pa[a])){b=0;for(var c=ga(String(oa)).split("."),d=ga(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",L=RegExp("(\\d*)(\\D*)","g"),Ja=RegExp("(\\d*)(\\D*)","g");do{var E=L.exec(g)||["","",""],F=Ja.exec(k)||["","",""];if(0==E[0].length&&0==F[0].length)break;b=q(0==E[1].length?0:parseInt(E[1],10),0==F[1].length?0:parseInt(F[1],10))||q(0==E[2].length,0==F[2].length)||q(E[2],F[2])}while(0==b)}b=pa[a]=0<=b}return b},
qa=h.document,ra=qa&&w?na()||("CSS1Compat"==qa.compatMode?parseInt(oa,10):5):void 0;var sa=!w||9<=Number(ra),ta=w&&!D("9");!y||D("528");x&&D("1.9b")||w&&D("8")||la&&D("9.5")||y&&D("528");x&&!D("8")||w&&D("9");var G=function(){this.F=this.F;this.I=this.I};G.prototype.F=!1;G.prototype.S=function(){this.F||(this.F=!0,this.K())};G.prototype.K=function(){if(this.I)for(;this.I.length;)this.I.shift()()};var H=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.u=!1;this.Y=!0};H.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Y=!1};var I=function(a,b){H.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.G=this.state=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(x){var f;a:{try{u(e.nodeName);f=!0;break a}catch(g){}f=
!1}f||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=y||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=y||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,
this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.G=a;a.defaultPrevented&&this.preventDefault()}};p(I,H);
I.prototype.preventDefault=function(){I.J.preventDefault.call(this);var a=this.G;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ta)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var J="closure_listenable_"+(1E6*Math.random()|0),ua=0;var va=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.D=!!d;this.H=e;this.key=++ua;this.removed=this.C=!1},K=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.H=null};var M=function(a){this.src=a;this.b={};this.A=0};M.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.b[f];a||(a=this.b[f]=[],this.A++);var g=N(a,b,d,e);-1<g?(b=a[g],c||(b.C=!1)):(b=new va(b,this.src,f,!!d,e),b.C=c,a.push(b));return b};M.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.b))return!1;var e=this.b[a];b=N(e,b,c,d);return-1<b?(K(e[b]),t(null!=e.length),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.b[a],this.A--),!0):!1};
var O=function(a,b){var c=b.type;if(c in a.b){var d=a.b[c],e=ia(d,b),f;if(f=0<=e)t(null!=d.length),Array.prototype.splice.call(d,e,1);f&&(K(b),0==a.b[c].length&&(delete a.b[c],a.A--))}};M.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.b)if(!a||c==a){for(var d=this.b[c],e=0;e<d.length;e++)++b,K(d[e]);delete this.b[c];this.A--}return b};M.prototype.L=function(a,b,c,d){a=this.b[a.toString()];var e=-1;a&&(e=N(a,b,c,d));return-1<e?a[e]:null};
var N=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.D==!!c&&f.H==d)return e}return-1};var P="closure_lm_"+(1E6*Math.random()|0),Q={},wa=0,R=function(a,b,c,d,e){if("array"==m(b))for(var f=0;f<b.length;f++)R(a,b[f],c,d,e);else c=xa(c),a&&a[J]?a.listen(b,c,d,e):ya(a,b,c,!1,d,e)},ya=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=S(a);k||(a[P]=k=new M(a));c=k.add(b,c,d,e,f);if(!c.proxy){d=za();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Aa(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
wa++}},za=function(){var a=Ba,b=sa?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Ca=function(a,b,c,d,e){if("array"==m(b))for(var f=0;f<b.length;f++)Ca(a,b[f],c,d,e);else c=xa(c),a&&a[J]?a.g.add(String(b),c,!0,d,e):ya(a,b,c,!0,d,e)},T=function(a,b,c,d,e){if("array"==m(b))for(var f=0;f<b.length;f++)T(a,b[f],c,d,e);else c=xa(c),a&&a[J]?a.g.remove(String(b),c,d,e):a&&(a=S(a))&&(b=a.L(b,c,!!d,e))&&Da(b)},Da=function(a){if("number"!=typeof a&&
a&&!a.removed){var b=a.src;if(b&&b[J])O(b.g,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.D):b.detachEvent&&b.detachEvent(Aa(c),d);wa--;(c=S(b))?(O(c,a),0==c.A&&(c.src=null,b[P]=null)):K(a)}}},Aa=function(a){return a in Q?Q[a]:Q[a]="on"+a},Fa=function(a,b,c,d){var e=!0;if(a=S(a))if(b=a.b[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.D==c&&!f.removed&&(f=Ea(f,d),e=e&&!1!==f)}return e},Ea=function(a,b){var c=a.listener,d=a.H||a.src;a.C&&Da(a);
return c.call(d,b)},Ba=function(a,b){if(a.removed)return!0;if(!sa){var c=b||ba("window.event"),d=new I(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(L){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,g=c.length-1;!d.u&&0<=g;g--){d.currentTarget=c[g];var k=Fa(c[g],f,!0,d),e=e&&k}for(g=0;!d.u&&g<c.length;g++)d.currentTarget=c[g],k=Fa(c[g],f,!1,d),e=e&&k}return e}return Ea(a,
new I(b,this))},S=function(a){a=a[P];return a instanceof M?a:null},Ga="__closure_events_fn_"+(1E9*Math.random()>>>0),xa=function(a){t(a,"Listener can not be null.");if("function"==m(a))return a;t(a.handleEvent,"An object listener must have handleEvent method.");a[Ga]||(a[Ga]=function(b){return a.handleEvent(b)});return a[Ga]};var U=function(){G.call(this);this.g=new M(this);this.aa=this;this.O=null};p(U,G);U.prototype[J]=!0;U.prototype.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};U.prototype.removeEventListener=function(a,b,c,d){T(this,a,b,c,d)};
U.prototype.dispatchEvent=function(a){Ha(this);var b,c=this.O;if(c){b=[];for(var d=1;c;c=c.O)b.push(c),t(1E3>++d,"infinite loop")}c=this.aa;d=a.type||a;if(n(a))a=new H(a,c);else if(a instanceof H)a.target=a.target||c;else{var e=a;a=new H(d,c);ea(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.u&&0<=g;g--)f=a.currentTarget=b[g],e=V(f,d,!0,a)&&e;a.u||(f=a.currentTarget=c,e=V(f,d,!0,a)&&e,a.u||(e=V(f,d,!1,a)&&e));if(b)for(g=0;!a.u&&g<b.length;g++)f=a.currentTarget=b[g],e=V(f,d,!1,a)&&e;return e};
U.prototype.K=function(){U.J.K.call(this);this.g&&this.g.removeAll(void 0);this.O=null};U.prototype.listen=function(a,b,c,d){Ha(this);return this.g.add(String(a),b,!1,c,d)};var V=function(a,b,c,d){b=a.g.b[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.D==c){var k=g.listener,L=g.H||g.src;g.C&&O(a.g,g);e=!1!==k.call(L,d)&&e}}return e&&0!=d.Y};U.prototype.L=function(a,b,c,d){return this.g.L(String(a),b,c,d)};var Ha=function(a){t(a.g,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var W=function(){U.call(this);this.j=this.f=null;this.i=this.h};p(W,U);aa("ci.studio.pixelloader.AbstractEventTarget.TRIGGER_EVENT","trigger");W.prototype.destroy=function(){this.c()};W.prototype.v=function(){this.f&&this.i&&this.j&&this.w()};W.prototype.w=function(){R(this.f,this.j,this.i,!1,this)};W.prototype.c=function(){this.f&&this.i&&this.j&&T(this.f,this.j,this.i,!1,this)};W.prototype.h=function(){this.dispatchEvent("trigger")};!x&&!w||w&&9<=Number(ra)||x&&D("1.9.1");w&&D("9");var Ka=function(a){W.call(this);this.T="";Ia(this,a);R(document,"readystatechange",this.X,!1,this)};p(Ka,W);Ka.prototype.X=function(){var a=document;if("interactive"==a.readyState||"complete"==a.readyState)T(a,"readystatechange",this.X,!1,this),Ia(this,this.T)};var Ia=function(a,b){a.T=b;var c;c=document;c=n(b)?c.getElementById(b):b;a.c();a.f=c;a.v()};var X=function(){W.call(this);this.m="";var a=this.s=studio.Enabler.getInstance();this.c();this.f=a;this.s.isInitialized()||Ca(this.s,studio.events.StudioEvent.INIT,this.ba,!1,this)};p(X,W);X.prototype.ba=function(){this.v()};X.prototype.v=function(){this.s.isInitialized()&&X.J.v.call(this)};
X.prototype.w=function(){this.c();this.i=null;switch(this.j){case studio.events.StudioEvent.EXIT:var a=this.ca;this.c();this.i=a;break;case studio.events.StudioEvent.PAGE_LOADED:if(this.s.isPageLoaded()){this.h();return}a=this.h;this.c();this.i=a;break;case studio.events.StudioEvent.INTERACTION:if(this.s.hasUserInteracted()){this.h();return}a=this.h;this.c();this.i=a;break;default:a=this.h,this.c(),this.i=a}X.J.w.call(this)};
X.prototype.ca=function(a){(/^[\s\xa0]*$/.test(this.m)||a.G.id==this.m)&&this.h()};var Y=function(a){W.call(this);this.c();this.f=a};p(Y,W);Y.prototype.w=function(){var a=this.f;a&&(R(a,"statechange",this.Z,!1,this),R(a,"onStateChange",this.W,!1,this))};Y.prototype.c=function(){var a=this.f;a&&(T(a,"statechange",this.Z,!1,this),T(a,"onStateChange",this.W,!1,this))};Y.prototype.Z=function(a){a.G.getPlayerState()==this.j&&this.h()};
Y.prototype.W=function(){var a="";switch(this.f.getPlayerState()){case YT.PlayerState.PLAYING:a="playing";break;case YT.PlayerState.ENDED:a="ended"}a==this.j&&this.h()};Y.prototype.v=function(){this.j&&this.f&&this.w()};var Z=function(){};p(Z,HTMLElement);aa("ci.studio.pixelloader.PixelLoader",Z);var La=/&amp;/gi,Ma=/\[timestamp\]/gi,Na={ga:"eventtarget",ha:"eventtype",URL:"url",ea:"cumulative",fa:"domelementid",ia:"exitname"};Z.prototype.createdCallback=function(){this.P=this.$=this.l=null;this.m="";this.V=this.M=this.N=!1;this.a=null;this.o=this.B="";var a=Na;if("array"!=m(a)){var b=[],c=0,d;for(d in a)b[c++]=a[d];a=b}d=0;for(b=a.length;d<b;d++)this.R(a[d])};Z.prototype.createdCallback=Z.prototype.createdCallback;
Z.prototype.attachedCallback=l;Z.prototype.attachedCallback=Z.prototype.attachedCallback;Z.prototype.detachedCallback=l;Z.prototype.detachedCallback=Z.prototype.detachedCallback;Z.prototype.S=function(){Oa(this)};Z.prototype.dispose=Z.prototype.S;
Z.prototype.R=function(a){var b=this.getAttribute(a);switch(a){case "eventtarget":Pa(this,b);break;case "eventtype":Qa(this,b);break;case "cumulative":this.V=null!=b?-1!=ca.indexOf(b.toString().toLowerCase()):!1;break;case "url":Ra(this,b);break;case "exitname":this.m=b;this.a&&this.m&&(this.a.m=this.m);break;case "domelementid":this.B=b,this.a&&this.B&&Ia(this.a,this.B)}};Z.prototype.attributeChangedCallback=Z.prototype.R;Z.prototype.da=function(a,b,c){this.$=a;this.o=b;Ra(this,c);Pa(this,"ytplayer")};
Z.prototype.setupYTPlayer=Z.prototype.da;Z.prototype.load=function(){if(!this.P)this.M=!0;else if(this.V||!this.N){this.l&&(T(this.l,"load",this.U,!1,this),this.removeChild(this.l),this.l=null);this.l=document.createElement("img");this.appendChild(this.l);this.l.style.visibility="hidden";R(this.l,"load",this.U,!1,this);var a=this.l,b;b=this.P.replace(Ma,Math.floor(1E9*Math.random()).toString());a.src=b}};Z.prototype.load=Z.prototype.load;
var Oa=function(a){a.a&&(T(a.a,"trigger",a.load,!1,a),a.a.destroy(),a.a=null);a.N=!1},Pa=function(a,b){Oa(a);switch(b){case "enabler":a.a=new X;break;case "dom":a.a=new Ka(a.B);break;case "ytplayer":a.a=new Y(a.$)}a.a&&R(a.a,"trigger",a.load,!1,a);Qa(a,a.o)},Qa=function(a,b){a.o=b;if("manual"!=a.o)if("auto"==a.o)a.load();else if(a.a){var c=a.a,d=a.o;c.c();c.j=d;c.v()}},Ra=function(a,b){/^[\s\xa0]*$/.test(null==b?"":String(b))||(b=b.replace(La,"&"),a.P=b,a.M&&(a.M=!1,a.load()))};
Z.prototype.U=function(){this.N=!0;var a;a=document.createEvent("Event");a.initEvent("load",!0,!0);this.dispatchEvent(a)};document.registerElement("ci-studio-pixelloader",{prototype:Z.prototype});})();
